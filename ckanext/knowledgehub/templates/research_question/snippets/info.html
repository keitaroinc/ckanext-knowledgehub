<!--
Copyright (c) 2018 Keitaro AB

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->

{#
Displays a sidebard module with information for given research question

rq    - The research question dict

Example:

  {% snippet "research_question/snippets/info.html", rq=rq %}

#}

{% set truncate_desc = truncate_desc or 120 %}
{% if rq %}
  <section class="module module-narrow">
    <div class="module context-info">
      <div class="module-content">
        <img src="{{ image_url }}" alt="{{ rq.get('title') | truncate(30)}}" class="img-responsive media-image">
        <h1 class="heading">{{ rq.get('content', '') | truncate(30)}}</h1>
          <!-- {% if rq.get('description', None) %}
            <p>{{ h.markdown_extract(rq.description, extract_length=truncate_desc) }}</p>
          {% else %}
            <p class="empty">{{ _("This research question has no description.") }}</p>
          {% endif %} -->
      </div>
    </div>
  </section>
{% endif %}
