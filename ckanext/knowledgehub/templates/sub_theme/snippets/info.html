<!--
Copyright (c) 2018 Keitaro AB

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->

{#
Displays a sidebard module with information for given sub_theme

sub_theme    - The sub-theme dict

Example:

  {% snippet "sub_theme/snippets/info.html", sub_theme=sub_theme %}

#}

{% set truncate_desc = truncate_desc or 120 %}

{% if sub_theme %}
  <section class="module module-narrow">
    <div class="module context-info">
      <div class="module-content">
        <h1 class="heading text-wrap">{{ sub_theme.get('title', '') | truncate(30)}}</h1>

          {% if sub_theme.get('description', None) %}
            <p class="text-wrap">{{ h.markdown_extract(sub_theme['description'], extract_length=truncate_desc) }}</p>
          {% else %}
            <p class="empty">{{ _("This sub-theme has no description") }}</p>
          {% endif %}
      </div>
    </div>
  </section>
{% endif %}
